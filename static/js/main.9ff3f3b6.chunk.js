(this["webpackJsonpblue-harvest-front-end-assignement"]=this["webpackJsonpblue-harvest-front-end-assignement"]||[]).push([[0],{161:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),s=n(18),i=n.n(s),o=(n(60),n(61),n(2)),d=n(20),l=n(6),j=n(8),b={pollName:"",answers:[{id:"0",answer:"first answer",vote:0},{id:"1",answer:"second answer",vote:0}]},u=Object(j.b)({name:"poll",initialState:b,reducers:{nameEdited:function(e,t){return Object(l.a)(Object(l.a)({},e),{},{pollName:t.payload})},answerAdded:function(e,t){e.answers.length<10&&e.answers.push(t.payload)},answerEdited:function(e,t){var n=e.answers.findIndex((function(e){return e.id===t.payload.id})),a=Object(d.a)(e.answers);return a[n]=Object(l.a)(Object(l.a)({},a[n]),{},{answer:t.payload.value}),Object(l.a)(Object(l.a)({},e),{},{answers:a})},answerRemoved:function(e,t){return Object(l.a)(Object(l.a)({},e),{},{answers:e.answers.filter((function(e){return e.id!==t.payload}))})},answerVoted:function(e,t){var n=e.answers.findIndex((function(e){return e.id===t.payload}));e.answers[n].vote+=1},reset:function(e,t){return b}}}),h=u.actions,O=h.nameEdited,p=h.answerAdded,m=h.answerEdited,x=h.answerRemoved,v=h.answerVoted,f=h.reset,w=function(e){return e.poll.pollName},g=function(e){return e.poll.answers},y=u.reducer,N=n(21),C=function(){var e=Object(r.useState)(""),t=Object(N.a)(e,2),n=t[0],c=t[1],s=Object(o.c)(g),i=Object(o.b)();return Object(a.jsx)("section",{children:Object(a.jsxs)("form",{children:[Object(a.jsx)("textarea",{id:"answerTitle",name:"answerTitle",rows:"14",cols:"10",wrap:"soft",value:n,placeholder:"Type an answer",onChange:function(e){return c(e.target.value)}}),Object(a.jsx)("button",{type:"button",onClick:function(){n&&(i(p({id:Object(j.c)(),answer:n,vote:0})),c(""))},disabled:!(s.length<10),children:"Add"})]})})};function k(){var e=Object(o.b)(),t=Object(o.c)(g),n=function(t){e(m({id:t.target.id,value:t.target.value}))},r=t.map((function(r){return Object(a.jsxs)("div",{children:[Object(a.jsx)("textarea",{rows:"14",cols:"10",wrap:"soft",value:r.answer,maxLength:"80",onChange:n,id:r.id}),Object(a.jsx)("button",{onClick:function(){return t=r.id,void e(x(t));var t},disabled:t.length<3,children:"X"})]},r.id)}));return Object(a.jsx)(a.Fragment,{children:r})}function A(){var e=Object(o.b)(),t=Object(o.c)(w),n=Object(o.c)(g);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"padded-input",children:Object(a.jsx)("textarea",{rows:"14",cols:"10",wrap:"soft",maxLength:"80",placeholder:"name your poll",value:t,onChange:function(t){e(O(t.target.value))},"aria-label":"poll-name"})}),Object(a.jsx)(k,{}),Object(a.jsx)(C,{}),Object(a.jsxs)("div",{className:"bottom-col1",children:[Object(a.jsxs)("p",{children:[n.length,"/10 possible answers"]}),Object(a.jsx)("button",{title:"reset",onClick:function(){e(f())},children:"Reset"})]})]})}function S(){var e=Object(r.useState)(""),t=Object(N.a)(e,2),n=t[0],c=t[1],s=Object(o.b)(),i=Object(o.c)(w),d=Object(o.c)(g),l=function(e){c(e.target.value)},j=d.map((function(e){return Object(a.jsxs)("div",{className:"radio-margin",children:[Object(a.jsx)("input",{type:"radio",className:"radio-input",id:"radioId".concat(e.id),name:e.answer,value:e.id,checked:n===e.id,onChange:l}),Object(a.jsx)("label",{htmlFor:e.answer,children:e.answer}),Object(a.jsx)("br",{})]},e.id)}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"padded-input",children:Object(a.jsx)("h2",{children:i})}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(v(n))},className:"poll-form",children:[Object(a.jsx)("div",{children:j}),Object(a.jsx)("button",{type:"submit",children:"Vote"})]})]})}var B=n(54);n(160);function E(){var e=Object(o.c)(w),t=Object(o.c)(g),n=Math.max.apply(Math,Object(d.a)(t.map((function(e){return e.vote}))))+1,r=t.map((function(e){return e.vote})).reduce((function(e,t){return e+t})),c={labels:t.map((function(e){return e.answer})),datasets:[{backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:t.map((function(e){return e.vote}))}]};return Object(a.jsxs)("div",{className:"chart-flex",children:[Object(a.jsx)("div",{className:"chart-header",children:Object(a.jsx)("h2",{children:e})}),Object(a.jsx)("div",{className:"item","data-testid":"bar-chart",children:Object(a.jsx)(B.Bar,{data:c,options:{legend:{display:!1},plugins:{datalabels:{anchor:"end",align:"top",display:function(e){return!0},formatter:function(e,t){return"".concat(t.dataset.data[t.dataIndex])}}},scales:{yAxes:[{ticks:{display:!1,beginAtZero:!0,min:0,stepSize:1,max:n},gridLines:{display:!1}}],scaleLabel:{display:!1}},maintainAspectRatio:!1}})}),Object(a.jsx)("div",{className:"chart-footer",children:Object(a.jsxs)("span",{"data-testid":"total",children:["Total votes: ",r," "]})})]})}var I=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("header",{className:"App-Header",children:Object(a.jsx)("h1",{className:"App-Header-Content",children:"Sir Vote-a-lot"})}),Object(a.jsxs)("section",{className:"section",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(S,{})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(E,{})})]})]})},F=Object(j.a)({reducer:{poll:y}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(o.a,{store:F,children:Object(a.jsx)(I,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},60:function(e,t,n){},61:function(e,t,n){}},[[161,1,2]]]);
//# sourceMappingURL=main.9ff3f3b6.chunk.js.map